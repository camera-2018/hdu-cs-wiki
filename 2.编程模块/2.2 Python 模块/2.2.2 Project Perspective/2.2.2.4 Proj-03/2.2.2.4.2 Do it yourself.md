导包，定义常量


```python
import json
import os

import requests

HEADERS = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36"
}
```

随便选择一首歌，就id为`22709528`的好了。得到它的元数据。

> 对于网易云音乐的id们，一般称歌曲id为`music_id`（简写为`mid`），专辑id为`album_id`


```python

mid = 28921695
details = requests.get(
    "https://music.163.com/api/song/detail?ids=[%d]"%mid, # 可以在中括号中添加更多的音乐id，以逗号分隔
    headers=HEADERS
).json()
print(json.dumps(details, ensure_ascii=False, indent=4))
```

    {
        "songs": [
            {
                "name": "Nine Point Eight",
                "id": 28921695,
                "position": 3,
                "alias": [],
                "status": 0,
                "fee": 8,
                "copyrightId": 663018,
                "disc": "1",
                "no": 7,
                "artists": [
                    {
                        "name": "Mili",
                        "id": 339594,
                        "picId": 0,
                        "img1v1Id": 0,
                        "briefDesc": "",
                        "picUrl": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                        "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                        "albumSize": 0,
                        "alias": [],
                        "trans": "",
                        "musicSize": 0,
                        "topicPerson": 0
                    }
                ],
                "album": {
                    "name": "H△G×Mili",
                    "id": 2943236,
                    "type": "专辑",
                    "size": 8,
                    "picId": 8897248092051259,
                    "blurPicUrl": "https://p1.music.126.net/xIa3fW-PIvzK78_GqYycvw==/8897248092051259.jpg",
                    "companyId": 0,
                    "pic": 8897248092051259,
                    "picUrl": "https://p1.music.126.net/xIa3fW-PIvzK78_GqYycvw==/8897248092051259.jpg",
                    "publishTime": 1379433600007,
                    "description": "",
                    "tags": "",
                    "company": "Wish Records",
                    "briefDesc": "",
                    "artist": {
                        "name": "",
                        "id": 0,
                        "picId": 0,
                        "img1v1Id": 0,
                        "briefDesc": "",
                        "picUrl": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                        "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                        "albumSize": 0,
                        "alias": [],
                        "trans": "",
                        "musicSize": 0,
                        "topicPerson": 0
                    },
                    "songs": [],
                    "alias": [],
                    "status": 1,
                    "copyrightId": 0,
                    "commentThreadId": "R_AL_3_2943236",
                    "artists": [
                        {
                            "name": "Mili",
                            "id": 339594,
                            "picId": 0,
                            "img1v1Id": 0,
                            "briefDesc": "",
                            "picUrl": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                            "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                            "albumSize": 0,
                            "alias": [],
                            "trans": "",
                            "musicSize": 0,
                            "topicPerson": 0
                        }
                    ],
                    "subType": "录音室版",
                    "transName": null,
                    "onSale": false,
                    "mark": 0,
                    "gapless": 0,
                    "dolbyMark": 0
                },
                "starred": false,
                "popularity": 80.0,
                "score": 80,
                "starredNum": 0,
                "duration": 191346,
                "playedNum": 0,
                "dayPlays": 0,
                "hearTime": 0,
                "sqMusic": {
                    "name": null,
                    "id": 11187237431,
                    "size": 22528175,
                    "extension": "flac",
                    "sr": 44100,
                    "dfsId": 0,
                    "bitrate": 941878,
                    "playTime": 191346,
                    "volumeDelta": -53284.0
                },
                "hrMusic": null,
                "ringtone": null,
                "crbt": null,
                "audition": null,
                "copyFrom": "",
                "commentThreadId": "R_SO_4_28921695",
                "rtUrl": null,
                "ftype": 0,
                "rtUrls": [],
                "copyright": 2,
                "transName": null,
                "sign": null,
                "mark": 0,
                "originCoverType": 1,
                "originSongSimpleData": null,
                "single": 0,
                "noCopyrightRcmd": null,
                "hMusic": {
                    "name": null,
                    "id": 11187237429,
                    "size": 7656011,
                    "extension": "mp3",
                    "sr": 44100,
                    "dfsId": 0,
                    "bitrate": 320000,
                    "playTime": 191346,
                    "volumeDelta": -53259.0
                },
                "mMusic": {
                    "name": null,
                    "id": 11187237423,
                    "size": 4593624,
                    "extension": "mp3",
                    "sr": 44100,
                    "dfsId": 0,
                    "bitrate": 192000,
                    "playTime": 191346,
                    "volumeDelta": -50724.0
                },
                "lMusic": {
                    "name": null,
                    "id": 11187237427,
                    "size": 3062431,
                    "extension": "mp3",
                    "sr": 44100,
                    "dfsId": 0,
                    "bitrate": 128000,
                    "playTime": 191346,
                    "volumeDelta": -49203.0
                },
                "bMusic": {
                    "name": null,
                    "id": 11187237427,
                    "size": 3062431,
                    "extension": "mp3",
                    "sr": 44100,
                    "dfsId": 0,
                    "bitrate": 128000,
                    "playTime": 191346,
                    "volumeDelta": -49203.0
                },
                "mvid": 0,
                "mp3Url": null,
                "rtype": 0,
                "rurl": null
            }
        ],
        "equalizers": {},
        "code": 200
    }
    

再获得它的歌词。


```python
lyrics = requests.get(
    "https://music.163.com/api/song/lyric?id=%d&lv=-1&kv=-1&tv=-1" % mid,
    headers=HEADERS,
).json()
print(json.dumps(lyrics, ensure_ascii=False, indent=4))
```

    {
        "sgc": false,
        "sfy": false,
        "qfy": false,
        "transUser": {
            "id": 3115294,
            "status": 99,
            "demand": 1,
            "userid": 70740635,
            "nickname": "都给我喝豆乳玉麒麟",
            "uptime": 1434682801393
        },
        "lyricUser": {
            "id": 3115293,
            "status": 99,
            "demand": 0,
            "userid": 55085075,
            "nickname": "十年一剑max",
            "uptime": 1434682801393
        },
        "lrc": {
            "version": 11,
            "lyric": "[00:12.500]You Ready?\n[00:24.780]Calla lily, carnation, daisy\n[00:27.060]Silently chase away your worries\n[00:30.600]Chrysanthemum, kalanchoe\n[00:32.920]Become your shield whenever you fall asleep\n[00:36.100]I cried out\n[00:38.530]Please don't leave me behind, leave me behind\n[00:41.510]So you held me tight\n[00:44.290]And said I will be just fine, I will be just fine, I will be just fine\n[00:50.960]Petals dance for our valediction\n[00:53.540]And synchronize to your frozen pulsation\n[00:56.980]Take me to where your soul may live in peace\n[00:59.450]Final destination\n[01:02.890]Touch of your skin sympathetically brushed against\n[01:05.730]The shoulders you used to embrace\n[01:08.720]Sparkling ashes drift along your flames\n[01:11.000]And softly merge into the sky\n[01:37.880]Lisianthus\n[01:40.630]Aroma drags me out of where I was\n[01:44.340]Cream rose, stargazer, iris\n[01:46.720]Construct the map that helps me trace your steps\n[01:49.720]Zipped my mouth\n[01:52.350]I just keep climbing up, keep climbing up\n[01:55.130]Justify our vows\n[01:58.000]I know you are right above, you are right above, you are right above\n[02:04.660]Look\n[02:06.010]now\n[02:07.230]I’m on the top of your world, top of your world\n[02:10.420]My darling\n[02:13.140]Here I come, I yell\n[02:14.340]And take a leap to Hell\n[02:29.560]Swirling wind sings for our reunion\n[02:31.940]And nine point eight is my acceleration\n[02:35.380]Take me to where our souls may live in peace\n[02:37.960]Our brand new commencement\n[02:41.300]Touch of your lips compassionately pressed against\n[02:43.780]The skull that you used to cherish\n[02:47.070]Delicate flesh decomposes off my rotten bones\n[02:50.160]And softly merge into the sky\n"
        },
        "klyric": {
            "version": 0,
            "lyric": ""
        },
        "tlyric": {
            "version": 3,
            "lyric": "[by:niu_wife]\n[00:12.50]准备好吗？\n[00:24.78]马蹄莲、康乃馨、雏菊\n[00:27.06]默默地驱散你的忧虑\n[00:30.60]菊花、长寿花\n[00:32.92]在你熟睡时守护著你\n[00:36.10]我哭了出来\n[00:38.53]拜托，不要丢下我，我不要一个人留在这里\n[00:41.51]於是你抱紧我\n[00:44.29]对我说「我会没事的、我会没事的、我会没事的」\n[00:50.96]花瓣因为我们的惜别翩翩起舞\n[00:53.54]并同步到你冰冻的脉搏\n[00:56.98]带领我前往你灵魂可以和平生活的\n[00:59.45]最终目的地\n[01:02.89]你的肌肤温柔地蹭著\n[01:05.73]你曾经拥抱的肩膀\n[01:08.72]你那闪烁的灰烬沿著火焰\n[01:11.00]轻轻地融化到这片天空里\n[01:37.88]桔梗\n[01:40.63]香气将我拉离了原本的地方\n[01:44.34]白玫瑰、葵白合、鸢尾花\n[01:46.72]铺设成让我追随你脚步的地图\n[01:49.72]我紧闭双唇\n[01:52.35]只是不断向上爬 不断向上爬\n[01:55.13]为了证明我们的誓言\n[01:58.00]我知道你就在那里 就在上面 就在那里\n[02:04.66]看\n[02:06.01]现在\n[02:07.23]我已经站在你世界的顶端了\n[02:10.42]亲爱的\n[02:13.14]我大喊「我来了」\n[02:14.34]然后大步跃进这地狱\n[02:29.56]刮起的旋风为我们的重逢歌唱\n[02:31.94]9.8m/s^2 是我的加速度\n[02:35.38]带我们到灵魂可以获得平静的地方\n[02:37.96]让我们重新开始\n[02:41.30]你温柔的嘴亲吻著\n[02:43.78]这个你所珍爱的头颅\n[02:47.07]你纤细的唇解开了我腐朽的骨头\n[02:50.16]轻轻地融化到这片天空里"
        },
        "code": 200
    }
    

使用音乐元数据生成文件名


```python
music = details["songs"][0]
artists = ",".join([a["name"] for a in music["artists"]])
title = music["name"]
filename = f"{artists} - {title}.lrc"
print(filename)
```

    Mili - Nine Point Eight.lrc
    

对生成的文件名做处理，使它能当作一个文件名。

（这里采用将某些字符转换成对应的全角的方法）

> 就示例而言没什么要处理的，但是正常使用总会有的 ~~，比如就有这么一个叫`Leo/need`的名字里面就带了一个`/`，一定是来找茬的😡👊~~


```python
filename = filename.translate(
    str.maketrans(
        {
            "/": "／",
            "*": "＊",
            ":": "：",
            "\\": "＼",
            ">": "＞",
            "<": "＜",
            "|": "｜",
            "?": "？",
            '"': "＂",
        }
    )
)
print(filename)
```

    Mili - Nine Point Eight.lrc
    

写入文件


```python
output_folder = "./"
with open(os.path.join(output_folder, filename), "w+", encoding="utf-8") as fp:
    fp.write(lyrics["lrc"]["lyric"])
```

似乎有些太简单了？

接下来我们利用网易云音乐的音乐搜索API，为本地文件匹配并下载歌词。在`samples`文件夹下有几个测试用的音频文件。

> 如果想实操的话可以去GitHub给仓库clone到本地


```python
os.listdir("./samples/")
```




    ['01. せせらぎの向こうに見えた幻想.flac',
     'GET ON WiTH FUNKOT.mp3',
     'step on your heart.mp3',
     'やかもち,琴葉姉妹 - サカサカバンバンバスピスピス.mp3',
     '水野あつ,可不 - 無理に笑わなくて良いよ.mp3']



显然文件名的格式有很多种，不是很方便读入。虽然也可以分情况尽可能地讨论就是了。

但是除了文件名，我们还可以使用音乐标签。（没有标签的就只能尝试解析文件名了）

为了读取音乐标签，我们使用第三方库[`mutagen`](https://pypi.org/project/mutagen/)。安装然后导入它。

> 也有别的包可以用，比如[`tinytag`](https://github.com/tinytag/tinytag)，是一个很小巧的tag查询库，值得一试。
>
> ↑ 记得用最新的源代码而不是用release因为有bug（←至少到2024.07.27的1.10.1release里都还有），如果还是有的话记得去开issue


```python
import mutagen
```

改变输入文件，查看音乐标签的不同情况。


```python
folder = "./samples/"
file = mutagen.File(  #                     v 改变这里的index就行
    os.path.join(folder, os.listdir(folder)[2])
)
print(file.pprint())
if t := file.get("TIT2"):
    title = str(t)
else:
    title = None
if a := file.get("TPE1"):
    artists = list(a)
else:
    artists = []
print("[", title, "], by:", artists)
```

    MPEG 1 layer 3, 128000 bps (CBR), 44100 Hz, 2 chn, 137.98 seconds (audio/mp3)
    COMM==XXX=163 key(Don't modify):L64FU3W4YxX3ZFTmbZ+8/d9/yL6bJXf+RTFn1xL8d2ti0KfLGUG3Nl2WPvz0BCk+S7z/PbupBQwQC9ETcxkE2RXlMREF7cfRQ5QjEhNKbzrnHxwUbBe4B/H1RuxCs1MKE/wQ17Y1wSXdvsAN2KytOFsqgCG86IvBXwJ0l+7vg152QM6fTfPWVfFesJEBwGxs+dUleNsCJMOw7qV2zP8/db+CH5/6owzSQDXIVloNTQNbMJfM7RW6M2uqnMUz/5xoxY28kxj7qGvQaD+QX3ABvb2t40+RHolmidiyj90Kr+ZuOkAKTf+km5Nt7bOa/bOinuGTbYdHoQUyhgcMqqGllmugvIqNZ0HAFOgJGJF3qCKrL6/OtBsixsqFU4cL+NbkFcx8U+kuI7TWAsbFxgst46JwPpezaBkQz3dL0u4HedR/oJz6GvazBehAAmRXWsrEsaY5uHSrK6Hp1JI7a5slIMt3CYgmsaGXs0lsB0+/j7bHUtM4Q9k+tby0BcJgbTtR6YURAByiRHQ6CI5tvtxzQg==
    COMM=ID3v1 Comment=eng=163 key(Don't modify):L64FU3
    TIT2=step on your heart
    TPE1=洛天依
    TPOS=1
    TRCK=1
    TSSE=Lavf56.4.101
    [ step on your heart ], by: ['洛天依']
    

对于MP3文件，可以从`TIT2`和`TPE1`字段分别拿到标题和艺术家。

关于各种格式的字段名可参见[EXIF Tools](https://exiftool.org/TagNames/)，不同格式音频文件之间的字段名可能不一致，比如上面那段代码就没法处理FLAC文件的标签 ~~（这个时候tinytag的方便之处就体现出来了，赞美喵）~~

此外还需要注意返回值为`None`的问题。还有部分文件的艺术家格式可能不规范，需要取第一项用`/`符之类的东西再切一刀。

不论是从文件名还是从文件标签，总之我们有多种方法拿到音乐文件的标题与艺术家（可以做一个fallback机制？）。我们就拿这些字段去请求搜索接口，然后匹配一致（模糊匹配当然也可以）的搜索结果，然后从对应的`music_id`下载歌词就好了。

> 注意到大部分从网易云音乐下载的音乐文件的注释（`COMM`或`DESCRIPTION`字段）都有一大串以`163 key(Don't modify):`开头的字符。这是网易云用来存储音乐元数据的方式，内容是以base64形式存储的以AES-128-ECB算法加密的json字符串，密钥为`#14ljk_!\]&0U<'(`，解密后可以直接得到`mid`。网上也有很多资料，试着自己去探索吧！

假设我们现在得到了这么一组信息，接下来就拿这组信息去请求搜索接口了。


```python
title = "無理に笑わなくて良いよ"
artists = ["水野あつ", "可不"]
```


```python
from urllib import parse

result = requests.get("https://music.163.com/api/search/get/", params={
    "s": "+".join([title] + artists),
    "limit": 10,
    "type": 1,
    "offset": 0
}, headers=HEADERS).json()
print(json.dumps(result, ensure_ascii=False, indent=4))
```

    {
        "result": {
            "songs": [
                {
                    "id": 1922287635,
                    "name": "無理に笑わなくて良いよ",
                    "artists": [
                        {
                            "id": 37446417,
                            "name": "水野あつ",
                            "picUrl": null,
                            "alias": [],
                            "albumSize": 0,
                            "picId": 0,
                            "fansGroup": null,
                            "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                            "img1v1": 0,
                            "trans": null
                        },
                        {
                            "id": 47893107,
                            "name": "可不",
                            "picUrl": null,
                            "alias": [],
                            "albumSize": 0,
                            "picId": 0,
                            "fansGroup": null,
                            "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                            "img1v1": 0,
                            "trans": null
                        }
                    ],
                    "album": {
                        "id": 140735681,
                        "name": "無理に笑わなくて良いよ",
                        "artist": {
                            "id": 0,
                            "name": "",
                            "picUrl": null,
                            "alias": [],
                            "albumSize": 0,
                            "picId": 0,
                            "fansGroup": null,
                            "img1v1Url": "https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",
                            "img1v1": 0,
                            "trans": null
                        },
                        "publishTime": 1645286400000,
                        "size": 1,
                        "copyrightId": 1418220,
                        "status": 1,
                        "picId": 109951167076418171,
                        "mark": 0
                    },
                    "duration": 108837,
                    "copyrightId": 1418220,
                    "status": -1,
                    "alias": [],
                    "rtype": 0,
                    "ftype": 0,
                    "transNames": [
                        "你不必强迫自己去笑"
                    ],
                    "mvid": 14576088,
                    "fee": 8,
                    "rUrl": null,
                    "mark": 17717010432
                }
            ],
            "hasMore": false,
            "songCount": 1
        },
        "code": 200
    }
    


```python
music = result["result"]["songs"][0]
mid = music["id"]
```

如果匹配成功，就拿着得到的音乐id去获取歌词就好了。这里就略过了。

这里有一个简单的163key解密示例，需要`pycryptodomex`库。

```powershell
pip install pycryptodomex
```


```python
from Cryptodome.Cipher import AES
import base64


def decrypt(data: bytes) -> bytes:
    key = "#14ljk_!\\]&0U<'(".encode("utf-8")
    cryptor = AES.new(key, AES.MODE_ECB)
    return cryptor.decrypt(data)


sample_key = "L64FU3W4YxX3ZFTmbZ+8/fMZ5HO+EQE0d1hry/01n1imgJAjwEU1sIK3DunPCv8JIDfFiwO6gpGCI/omCPk6o+iyDgemCERB74r1dmvVr8Wbogz195VQ2TusMWpQYrr4hv/5sNK3RLF63c1W6YvLbyvK6F1ZqljV++8nuxUKMajm+9C5eM6uLnnXsqxoZ7z6YaVNWdj+A3FGInsVRPMIxls7Lz9KplmWAGoRrSj/P2lheZZvLdikmlDL64LPYugLkxcTQfHFwdDa3NDBPsBwgNldMjhmdKGHER7CrMKF16c+IIias7TFLviRxlj1RDghodu6aXmBkJFBWP8l+2zsTlxS+EaX64C2/+fAQ7mfvO4FZvxwKtRKs+o5oQ2tsNJSvdTNTzUv8ByWjQAEvlmpzRUFACo2gQuRRis/3UGGpp78C/oUnwwIsHvW3oczICzgQBqC8V3o4OHTuKyaqOM3rb6j3NYr7FgyLwLqKc5lJlW8XfeKKdsSJkQCD4MLZqMC/hmTRvL/Ob7ebNgLIGdmL5ClgoxqZ2mphA5EFWWFZydpvvxRrsv8frGMDb/Hd/EdB11TFPcrhCcM9Vd5l+xznQ=="
dec = decrypt(base64.b64decode(sample_key.encode(encoding="utf-8"))).decode(
    encoding="utf-8"
)[6:]
# print(dec)
meta = json.loads(dec[: dec.rfind("}") + 1])
print(json.dumps(meta, ensure_ascii=False, indent=4))
```

    {
        "musicId": 785882,
        "musicName": "せせらぎの向こうに見えた幻想",
        "artist": [
            [
                "みかん箱",
                20578
            ],
            [
                "Foxtail-Grass Studio",
                19481
            ]
        ],
        "albumId": 77670,
        "album": "pastoral landscape",
        "albumPicDocId": 4455221115751031,
        "albumPic": "https://p3.music.126.net/JFnBz-eyIBltKt15wjjFUA==/4455221115751031.jpg",
        "bitrate": 1029000,
        "mp3DocId": "3988c6adcd44acba4094a9a7e0ae987f",
        "duration": 176386,
        "mvId": 0,
        "alias": [],
        "transNames": [],
        "format": "flac"
    }
    

此外我们有时还会需要下载一整个专辑的音乐的歌词。我目前没有找到未加密的接口用于获取专辑列表。但是专辑列表在网页的源代码中能找到，而且还是以JSON形式存在于一个textarea中，id为`song-list-pre-data`，好怪噢。

虽然一下子就能写出它的XPath然后`lxml`启动，但是我就是要启动`BeautifulSoup` ~~，豪丸！~~

> `pip install beautifulsoup4`

假设我们要下载`2084285`这个专辑的所有歌词。先得到专辑中所有的音乐的id。


```python
from bs4 import BeautifulSoup as BS

aid = 2084285
bs = BS(
    requests.get(f"https://music.163.com/album?id={aid}", headers=HEADERS).text,
    "html.parser",
)
album = json.loads(bs.find("textarea", id="song-list-pre-data").get_text())
print(json.dumps(album, ensure_ascii=False, indent=4))
```

    [
        {
            "privilege": {
                "id": 22709523,
                "fee": 0,
                "payed": 0,
                "st": 0,
                "pl": 320000,
                "dl": 999000,
                "sp": 7,
                "cp": 1,
                "subp": 1,
                "cs": false,
                "maxbr": 999000,
                "fl": 320000,
                "toast": false,
                "flag": 256,
                "preSell": false,
                "playMaxbr": 999000,
                "downloadMaxbr": 999000,
                "maxBrLevel": "lossless",
                "playMaxBrLevel": "lossless",
                "downloadMaxBrLevel": "lossless",
                "plLevel": "exhigh",
                "dlLevel": "lossless",
                "flLevel": "exhigh",
                "rscl": null,
                "freeTrialPrivilege": {
                    "resConsumable": false,
                    "userConsumable": false,
                    "listenType": null,
                    "cannotListenReason": null,
                    "playReason": null,
                    "freeLimitTagType": null
                },
                "rightSource": 0,
                "chargeInfoList": [
                    {
                        "rate": 128000,
                        "chargeUrl": null,
                        "chargeMessage": null,
                        "chargeType": 0
                    },
                    {
                        "rate": 192000,
                        "chargeUrl": null,
                        "chargeMessage": null,
                        "chargeType": 0
                    },
                    {
                        "rate": 320000,
                        "chargeUrl": null,
                        "chargeMessage": null,
                        "chargeType": 0
                    },
                    {
                        "rate": 999000,
                        "chargeUrl": null,
                        "chargeMessage": null,
                        "chargeType": 1
                    }
                ],
                "code": 0,
                "message": null
            },
            "djid": 0,
            "album": {
                "id": 2084285,
                "name": "Starlight Vision",
                "picUrl": "http://p1.music.126.net/McIfe-dHMi5goNjw2h9AGA==/775155697604384.jpg",
                "pic_str": "775155697604384",
                "pic": 775155697604384
            },
            "artists": [
                {
                    "id": 18473,
                    "name": "Sound Online",
                    "alia": [
                        "矢鸨つかさ",
                        "Tsukasa"
                    ]
                }
            ],
            "alias": [],
            "fee": 0,
            "ftype": 0,
            "no": 1,
            "publishTime": 0,
            "copyrightId": 663018,
            "mvid": 0,
            "transNames": null,
            "commentThreadId": "R_SO_4_22709523",
            "score": 10.0,
            "duration": 338266,
            "type": 0,
            "status": 1,
            "name": "Everlasting",
            "id": "22709523"
        },
        ...
    ]
    


```python
mids = [int(i["id"]) for i in album]
print(mids)
```

    [22709523, 22709533, 22709527, 22709526, 22709524, 22709535, 22709530, 22709529, 22709525, 22709536, 22709532, 22709531, 22709528, 22709537, 22709534]
    

很好我们现在得到了所有的音乐id。可以将它们全部下载下来了。

> 但是你有没有注意到，在得到的专辑列表以及先前得到的搜索结果中，除了音乐id，还包含了每首音乐的标题与艺术家。也就是说没有必要再去请求一遍每首音乐的信息了 —— 好欸！
