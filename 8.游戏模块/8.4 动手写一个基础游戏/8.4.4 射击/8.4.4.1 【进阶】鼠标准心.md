# 实现子弹类

## 学习目标

1. 实现鼠标瞄准准心

## 操作流程

### 新建Canvas

1. 在Heriarchy中新建Canvas，并在其中新建Image
2. 将准心图片拖入Image组件的Sprite中
3. 将Canvas的Render Mode改为Screen Space-Camera，并将Main Camera拖入Render Camera上
4. 实现GunCursor类

```csharp
using UnityEngine;

public class GunCursor : MonoBehaviour
{
    private float pressedTime = 0f; // 按下时间
    void Update()
    {
        // 获取鼠标位置
        Vector2 mousePosition = Input.mousePosition;
        // 转换为画布坐标
        RectTransformUtility.ScreenPointToLocalPointInRectangle(
            transform.parent.GetComponent<RectTransform>(),
            mousePosition,
            Camera.main,
            out Vector2 localPoint
        );
        // 设置光标位置
        transform.localPosition = localPoint;
        if (Input.GetMouseButton(0))
        {
            pressedTime += Time.deltaTime; // 增加按下时间
        }
        else
        {
            pressedTime -= Time.deltaTime;
        }

        pressedTime = Mathf.Clamp(pressedTime, 0, 0.5f);
        transform.localScale = Mathf.Lerp(1, 1.2f, pressedTime * 2) * Vector3.one;
    }
}
```
