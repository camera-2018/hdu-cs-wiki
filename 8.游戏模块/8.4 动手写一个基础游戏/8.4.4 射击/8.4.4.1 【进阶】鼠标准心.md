# 实现子弹类

## 学习目标

1. 实现鼠标瞄准准心

## 操作流程

### 新建Canvas

1. 在Heriarchy中新建Canvas，并在其中新建Image
2. 将准心图片拖入Image组件的Sprite中
3. 将Canvas的Render Mode改为Screen Space-Camera，并将Main Camera拖入Render Camera上
4. 实现GunCursor类

```csharp
using UnityEngine;

public class GunCursor : MonoBehaviour
{
    private float pressedTime = 0f; // 按下时间
    void Update()
    {
        // 获取鼠标位置
        Vector2 mousePosition = Input.mousePosition;
        // 转换为画布坐标
        RectTransformUtility.ScreenPointToLocalPointInRectangle(
            transform.parent.GetComponent<RectTransform>(),
            mousePosition,
            Camera.main,
            out Vector2 localPoint
        );
        // 设置光标位置
        transform.localPosition = localPoint;
        if (Input.GetMouseButton(0))
        {
            pressedTime += Time.deltaTime; // 增加按下时间
        }
        else
        {
            pressedTime -= Time.deltaTime;
        }

        pressedTime = Mathf.Clamp(pressedTime, 0, 0.5f);
        transform.localScale = Mathf.Lerp(1, 1.2f, pressedTime * 2) * Vector3.one;
    }
}
```

## 概念解析

### Canvas
画布 (Canvas) 组件表示进行 UI 布局和渲染的抽象空间。所有 UI 元素都必须是附加了画布组件的游戏对象的子对象。从菜单 (GameObject > Create UI) 创建 UI 元素对象时，如果场景中没有画布 (Canvas) 对象，则会自动创建该对象。

总而言之，Unity的所有UI依靠Canvas进行绘制。
相关链接：[Canvas](https://docs.unity.cn/cn/2023.2/Manual/class-Canvas.html)
