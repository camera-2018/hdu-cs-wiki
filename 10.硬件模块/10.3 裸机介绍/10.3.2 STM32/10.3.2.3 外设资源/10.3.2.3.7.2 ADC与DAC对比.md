# ADC与DAC对比

> Author：余生

## 一：ADC vs DAC —— 全面对比

| 特性     | ADC                            | DAC                          |
| -------- | ------------------------------ | ---------------------------- |
| 方向     | 模拟 → 数字                    | 数字 → 模拟                  |
| 输入     | 模拟电压                       | 数字码                       |
| 输出     | 数字码                         | 模拟电压/电流                |
| 核心电路 | 比较器、SAR、调制器            | 电阻网络、开关、运放         |
| 关键指标 | 分辨率、采样率、SNR、ENOB      | 分辨率、建立时间、INL/DNL    |
| 典型应用 | 传感器采集、音频输入、电压监测 | 音频输出、波形发生、电机控制 |
| 速度     | 从 Hz 到 GHz                   | 从 Hz 到 MHz                 |
| 精度挑战 | 量化噪声、采样误差、非线性     | 电阻匹配、开关毛刺、温度漂移 |
| 外部依赖 | 参考电压源、抗混叠滤波器       | 参考电压源、重建滤波器       |

## 二：ADC 与 DAC 的协同工作

### 2.1 数据采集与回放系统

```txt
模拟信号 → [抗混叠滤波] → ADC → 数字处理 → DAC → [重建滤波] → 模拟输出
```

- 抗混叠滤波器（Anti-Aliasing Filter）：防止高频信号混叠到采样带宽内。
- 重建滤波器（Reconstruction Filter）：平滑 DAC 输出的阶梯波。

### 2.2 闭环控制系统

```txt
传感器 → ADC → MCU → 控制算法 → DAC → 执行器 → 反馈 → 传感器
```

如温度控制、电机调速等。

## 三：高级话题

### 3.1 参考电压源（Voltage Reference）

- 内部参考：方便，但精度和温漂较差。
- 外部参考（如 LM4040、REF3030）：高精度、低温漂，用于高精度测量。

### 3.2 采样定理（奈奎斯特定理）

> 采样率必须大于信号最高频率的 2 倍，才能无失真恢复原信号。

### 3.3 有效位数（ENOB）

实际 ADC 的精度受噪声、失真影响，ENOB = (SNR - 1.76) / 6.02，通常小于标称分辨率。

### 3.4 抖动（Dithering）

在 ADC 输入端加入微小噪声，可提高低电平信号的分辨率和线性度。

## 结语

ADC 和 DAC 是连接模拟世界与数字世界的“翻译官”。它们的工作不仅仅是简单的电压到数字的映射，而是涉及精密电路设计、时序控制、噪声管理、信号完整性等多个工程领域的综合体现。

- ADC 的核心是“采样与量化”，追求速度与精度的平衡。
- DAC 的核心是“重建与平滑”，追求线性度与稳定性。

理解它们的底层原理，不仅能帮助我们正确配置微控制器外设，更能让我们在设计传感器系统、音频设备、工业控制等应用时，做出更优的硬件与软件决策。

如果你还想深入探讨：

- 差分 ADC 与单端 ADC 的区别
- Pipeline ADC 的工作原理
- Capacitive DAC 在 SAR ADC 中的应用
- 如何用 GPIO 模拟 DAC（PWM + RC 滤波）
- ADC 的校准与自检机制
